<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      OIL QUALITY & OXIDATION LEVEL
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container" style="padding: 5%">
    <div class="row">
      <div class="col" style="text-align: center">
        <img [src]="'assets/icon/favicon.ico'" width="150">
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col" style="text-align: center">
        <input #fileInput type="file" style="display: none" (change)="onFileChange($event)"/>
        <ion-button (click)="onClickFileInputButton()">
          <ion-icon name="attach-outline"></ion-icon>
          SELECT FILE
        </ion-button>
      </div>
    </div>
    <!--
    <div class="row" *ngIf="willDownload">
      <div class="col" style="text-align: center">
        <pre>{{outputJson | json}}</pre>
      </div>
    </div>
    -->
    <!-- <div [innerHTML]="outputJson"></div>-->
    <br>
    <div class="row" *ngIf="file">
      <div class="col" style="text-align: center">
        File seletcted: {{file?.name}}
      </div>
    </div>
    <br>
    <div class="row" *ngIf="showButtonEvaluate">
      <div class="col" style="text-align: center">
        <ion-button (click)="onUploadClick()">
          <ion-icon name="cloud-upload-outline"></ion-icon>
          EVALUATE
        </ion-button>
      </div>
    </div>
    <br>
    <br>

    <div class="row" *ngIf="oilResult.setted">
      <div class="col" style="text-align: center">
        <h2> RESULT </h2>
        <p>
          <strong>Oil rating: </strong>
          <a *ngIf="oilResult.rating == 0" style="color: green">
            GOOD
          </a>
          <a *ngIf="oilResult.rating == 1" style="color: orange">
            FAIR
          </a>
          <a *ngIf="oilResult.rating == 2" style="color: red">
            VERY BAD
          </a>
          <br>
          <strong>Probability: </strong> {{oilResult.probability | number:'1.2-2'}}%
        </p>
      </div>
    </div>
  </div>

  <div class="my-overlay" *ngIf="loading">
    <div class="row" style="display: flex; justify-content: center;">
      <div class="col">
        <ion-spinner></ion-spinner>
      </div>
    </div>
  </div>

</ion-content>
